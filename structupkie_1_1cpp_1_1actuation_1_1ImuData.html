<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>upkie: upkie::cpp::actuation::ImuData Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">upkie<span id="projectnumber">&#160;5.2.0</span>
   </div>
   <div id="projectbrief">Open-source wheeled biped robots</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structupkie_1_1cpp_1_1actuation_1_1ImuData.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structupkie_1_1cpp_1_1actuation_1_1ImuData-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">upkie::cpp::actuation::ImuData Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Data from the onboard inertial measurement unit (IMU).  
 <a href="structupkie_1_1cpp_1_1actuation_1_1ImuData.html#details">More...</a></p>

<p><code>#include &lt;ImuData.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a317cd683bbf18b6df0316f1bff366ab2"><td class="memItemLeft" align="right" valign="top">Eigen::Quaterniond&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structupkie_1_1cpp_1_1actuation_1_1ImuData.html#a317cd683bbf18b6df0316f1bff366ab2">orientation_imu_in_ars</a> = Eigen::Quaterniond::Identity()</td></tr>
<tr class="memdesc:a317cd683bbf18b6df0316f1bff366ab2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotation from the IMU frame to the ARS frame.  <a href="structupkie_1_1cpp_1_1actuation_1_1ImuData.html#a317cd683bbf18b6df0316f1bff366ab2">More...</a><br /></td></tr>
<tr class="separator:a317cd683bbf18b6df0316f1bff366ab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8458481cd122c60f814772967ac79c1"><td class="memItemLeft" align="right" valign="top">Eigen::Vector3d&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structupkie_1_1cpp_1_1actuation_1_1ImuData.html#ac8458481cd122c60f814772967ac79c1">angular_velocity_imu_in_imu</a> = Eigen::Vector3d::Zero()</td></tr>
<tr class="memdesc:ac8458481cd122c60f814772967ac79c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Body angular velocity of the IMU frame in [rad] / [s].  <a href="structupkie_1_1cpp_1_1actuation_1_1ImuData.html#ac8458481cd122c60f814772967ac79c1">More...</a><br /></td></tr>
<tr class="separator:ac8458481cd122c60f814772967ac79c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1d4bcec566f70fec66e0c1ad67724a6"><td class="memItemLeft" align="right" valign="top">Eigen::Vector3d&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structupkie_1_1cpp_1_1actuation_1_1ImuData.html#ae1d4bcec566f70fec66e0c1ad67724a6">linear_acceleration_imu_in_imu</a> = Eigen::Vector3d::Zero()</td></tr>
<tr class="memdesc:ae1d4bcec566f70fec66e0c1ad67724a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Linear acceleration of the IMU, with gravity filtered out, in [m] / [s]².  <a href="structupkie_1_1cpp_1_1actuation_1_1ImuData.html#ae1d4bcec566f70fec66e0c1ad67724a6">More...</a><br /></td></tr>
<tr class="separator:ae1d4bcec566f70fec66e0c1ad67724a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bd373799101951755c4e7aa5c5f3637"><td class="memItemLeft" align="right" valign="top">Eigen::Vector3d&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structupkie_1_1cpp_1_1actuation_1_1ImuData.html#a3bd373799101951755c4e7aa5c5f3637">raw_angular_velocity</a> = Eigen::Vector3d::Zero()</td></tr>
<tr class="memdesc:a3bd373799101951755c4e7aa5c5f3637"><td class="mdescLeft">&#160;</td><td class="mdescRight">Raw angular velocity read by the IMU, in [rad] / [s].  <a href="structupkie_1_1cpp_1_1actuation_1_1ImuData.html#a3bd373799101951755c4e7aa5c5f3637">More...</a><br /></td></tr>
<tr class="separator:a3bd373799101951755c4e7aa5c5f3637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd9b3b60ed1faba74469c60853ec5588"><td class="memItemLeft" align="right" valign="top">Eigen::Vector3d&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structupkie_1_1cpp_1_1actuation_1_1ImuData.html#afd9b3b60ed1faba74469c60853ec5588">raw_linear_acceleration</a> = Eigen::Vector3d::Zero()</td></tr>
<tr class="memdesc:afd9b3b60ed1faba74469c60853ec5588"><td class="mdescLeft">&#160;</td><td class="mdescRight">Proper linear acceleration read by the IMU, in [m] / [s]².  <a href="structupkie_1_1cpp_1_1actuation_1_1ImuData.html#afd9b3b60ed1faba74469c60853ec5588">More...</a><br /></td></tr>
<tr class="separator:afd9b3b60ed1faba74469c60853ec5588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c96a7806d8fdb1fff1f7b3a777f1b76"><td class="memItemLeft" align="right" valign="top">Eigen::Vector3d&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structupkie_1_1cpp_1_1actuation_1_1ImuData.html#a3c96a7806d8fdb1fff1f7b3a777f1b76">linear_velocity_imu_in_world</a> = Eigen::Vector3d::Zero()</td></tr>
<tr class="memdesc:a3c96a7806d8fdb1fff1f7b3a777f1b76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Spatial linear velocity in [m] / [s].  <a href="structupkie_1_1cpp_1_1actuation_1_1ImuData.html#a3c96a7806d8fdb1fff1f7b3a777f1b76">More...</a><br /></td></tr>
<tr class="separator:a3c96a7806d8fdb1fff1f7b3a777f1b76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Data from the onboard inertial measurement unit (IMU). </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="ac8458481cd122c60f814772967ac79c1" name="ac8458481cd122c60f814772967ac79c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8458481cd122c60f814772967ac79c1">&#9670;&#160;</a></span>angular_velocity_imu_in_imu</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Vector3d upkie::cpp::actuation::ImuData::angular_velocity_imu_in_imu = Eigen::Vector3d::Zero()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Body angular velocity of the IMU frame in [rad] / [s]. </p>
<p >The full name of the body angular vector would be "angular velocity IMU to
world in IMU", but as for all body angular velocities, "angular velocity
Body to X in Body" is the same for all inertial frames X (that have zero velocity relative to the world frame). See for instance <a href="https://scaron.info/robotics/screw-theory.html#body-screws">https://scaron.info/robotics/screw-theory.html#body-screws</a> for the math. </p>

</div>
</div>
<a id="ae1d4bcec566f70fec66e0c1ad67724a6" name="ae1d4bcec566f70fec66e0c1ad67724a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1d4bcec566f70fec66e0c1ad67724a6">&#9670;&#160;</a></span>linear_acceleration_imu_in_imu</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Vector3d upkie::cpp::actuation::ImuData::linear_acceleration_imu_in_imu = Eigen::Vector3d::Zero()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Linear acceleration of the IMU, with gravity filtered out, in [m] / [s]². </p>
<p >This quantity corresponds to SPI register 34 from the <a class="el" href="namespaceupkie_1_1cpp_1_1actuation_1_1pi3hat.html" title="Utility functions used in the pi3hat interface.">pi3hat</a> <a href="https://github.com/mjbots/pi3hat/blob/master/docs/reference.md#imu-register-mapping">https://github.com/mjbots/pi3hat/blob/master/docs/reference.md#imu-register-mapping</a> from which gravity has been substracted out <a href="https://github.com/mjbots/pi3hat/blob/4a3158c831da125fa9c96d64378515c1fdb2083f/fw/attitude_reference.h#L147">https://github.com/mjbots/pi3hat/blob/4a3158c831da125fa9c96d64378515c1fdb2083f/fw/attitude_reference.h#L147</a>. </p>

</div>
</div>
<a id="a3c96a7806d8fdb1fff1f7b3a777f1b76" name="a3c96a7806d8fdb1fff1f7b3a777f1b76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c96a7806d8fdb1fff1f7b3a777f1b76">&#9670;&#160;</a></span>linear_velocity_imu_in_world</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Vector3d upkie::cpp::actuation::ImuData::linear_velocity_imu_in_world = Eigen::Vector3d::Zero()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Spatial linear velocity in [m] / [s]. </p>
<p >This field is not an IMU measurement. It is used for instance in the Bullet spine to compute IMU accelerations by finite differences. </p>

</div>
</div>
<a id="a317cd683bbf18b6df0316f1bff366ab2" name="a317cd683bbf18b6df0316f1bff366ab2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a317cd683bbf18b6df0316f1bff366ab2">&#9670;&#160;</a></span>orientation_imu_in_ars</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Quaterniond upkie::cpp::actuation::ImuData::orientation_imu_in_ars = Eigen::Quaterniond::Identity()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rotation from the IMU frame to the ARS frame. </p>
<p >The attitude reference system frame has +x forward, +y right and +z down, whereas our world frame has +x forward, +y left and +z up: <a href="https://github.com/mjbots/pi3hat/blob/ab632c82bd501b9fcb6f8200df0551989292b7a1/docs/reference.md#orientation">https://github.com/mjbots/pi3hat/blob/ab632c82bd501b9fcb6f8200df0551989292b7a1/docs/reference.md#orientation</a> </p>

</div>
</div>
<a id="a3bd373799101951755c4e7aa5c5f3637" name="a3bd373799101951755c4e7aa5c5f3637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bd373799101951755c4e7aa5c5f3637">&#9670;&#160;</a></span>raw_angular_velocity</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Vector3d upkie::cpp::actuation::ImuData::raw_angular_velocity = Eigen::Vector3d::Zero()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Raw angular velocity read by the IMU, in [rad] / [s]. </p>
<p >This raw angular velocity measurement may differ from the filtered one (although as of writing this the UKF angular-velocity bias is always zero). </p>

</div>
</div>
<a id="afd9b3b60ed1faba74469c60853ec5588" name="afd9b3b60ed1faba74469c60853ec5588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd9b3b60ed1faba74469c60853ec5588">&#9670;&#160;</a></span>raw_linear_acceleration</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Vector3d upkie::cpp::actuation::ImuData::raw_linear_acceleration = Eigen::Vector3d::Zero()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Proper linear acceleration read by the IMU, in [m] / [s]². </p>
<p >The acceleration read by an accelerometer is:  </p><p class="formulaDsp">
\[
{}_I a_{WI} - {}_I g
\]
</p>
<p> with \({}_I a_{WI}\) the <em>proper</em> linear acceleration of the IMU frame \(I\), and \({}_I g\) the standard acceleration of gravity in the IMU frame. Pay attention to the fact that</p>
<p >Pay attention to the fact that proper acceleration is different from coordinate acceleration, which would be the acceleration of the IMU with respect to the mobile IMU frame in this case. (There is a gyroscopic term in the latter but not in the former.) See for instance the Wikipedia <a href="https://en.wikipedia.org/wiki/Accelerometer">Accelerometer</a> article. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>upkie/cpp/actuation/ImuData.h</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceupkie.html">upkie</a></li><li class="navelem"><a class="el" href="namespaceupkie_1_1cpp.html">cpp</a></li><li class="navelem"><a class="el" href="namespaceupkie_1_1cpp_1_1actuation.html">actuation</a></li><li class="navelem"><a class="el" href="structupkie_1_1cpp_1_1actuation_1_1ImuData.html">ImuData</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
